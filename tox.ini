[tox]
envlist =
  py{37,38,39}-django22
  py{37,38,39}-django31
  py{37,38,39}-django32
  py{37,38,39}-django40
  py{37,38,39}-preventxss
  py{37,38,39}-djangomain

[testenv]
setenv =
  PYTHONPATH={toxinidir}
  DJANGO_SETTINGS_MODULE=post_office.test_settings

deps =
  django22: Django<3
  django31: Django<3.2
  django32: Django<4.0
  django41: Django<4.1
  preventxss: Django
  preventxss: bleach
  djangomain: https://github.com/django/django/archive/main.tar.gz

whitelist_externals = which

commands =
  which python
  python -V
  which django-admin.py
  django-admin.py test post_office ./
